(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{602:function(s,t,a){"use strict";a.r(t);var e=a(70),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"小白如何用vuepress搭建博客？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小白如何用vuepress搭建博客？"}},[s._v("#")]),s._v(" 小白如何用VuePress搭建博客？")]),s._v(" "),a("p",[s._v("还在为用Jekyll实现布局和交互时冗长的代码和Liquid语法而感到苦恼吗？还在为用Nuxt开发博客时那些从头造的轮子而在犹豫吗？想要使用Vue框架进行开发并实现SEO吗？为何不试试VuePress呢？")]),s._v(" "),a("h2",{attrs:{id:"why-and-why-not"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#why-and-why-not"}},[s._v("#")]),s._v(" Why and Why not?")]),s._v(" "),a("h3",{attrs:{id:"_1-vuepress-vs-jekyll"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-vuepress-vs-jekyll"}},[s._v("#")]),s._v(" 1. VuePress vs Jekyll")]),s._v(" "),a("p",[s._v("VuePress和Jekyll都可以用Markdown优雅地写博客。如果只在意于博客的内容，Jekyll完全可以胜任，它提供了非常丰富的theme，稍作修改就能搭建一个赏心悦目的博客。但是，如果想要自己捣鼓一套富有个性的博客主题，嵌入喜欢的布局、动画、交互以及各种功能，基于Vue框架的VuePress会给大大提高博客的开发效率。")]),s._v(" "),a("h3",{attrs:{id:"_2-vuepress-vs-nuxt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-vuepress-vs-nuxt"}},[s._v("#")]),s._v(" 2. VuePress vs Nuxt")]),s._v(" "),a("p",[s._v("正如VuePress docs所说的：")]),s._v(" "),a("blockquote",[a("p",[s._v("VuePress 能做的事情，Nuxt 理论上确实能够胜任，但 Nuxt 是为构建应用程序而生的，而 VuePress 则专注在以内容为中心的静态网站上，同时提供了一些为技术文档定制的开箱即用的特性。")])]),s._v(" "),a("p",[s._v("相比于Nuxt，VuePress更适合开发博客或技术文档：")]),s._v(" "),a("ol",[a("li",[s._v("VuePress更好地融入了Markdown，官方对生成的HTML提供了非常好的布局，无需对博客文章的排版做过多的修改；甚至可以在markdown中使用插槽，兼顾了便利性与灵活性。")]),s._v(" "),a("li",[s._v("VuePress官方主题自带Navbar, Sidebar等开发好的组件，特别是Sidebar，可根据markdown中文章标题结构自动生成Sidebar目录导航栏。")]),s._v(" "),a("li",[s._v("在VuePress中可以很好的利用YAML元数据，请求这些数据并按照自己的需求进行数据映射生成需要的数据结构，blogsList, tagsList, timeline各个组件均可进行快速的开发。")])]),s._v(" "),a("h2",{attrs:{id:"beforecreated"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#beforecreated"}},[s._v("#")]),s._v(" BeforeCreated")]),s._v(" "),a("p",[s._v("在2020年6月中旬，VuePress存在如下bugs：")]),s._v(" "),a("h3",{attrs:{id:"_1-热更新"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-热更新"}},[s._v("#")]),s._v(" 1. 热更新")]),s._v(" "),a("p",[s._v("该版本的热更新存在问题，需要手动安装对应版本的watchpack。相关Issues："),a("a",{attrs:{href:"https://github.com/vuejs/vuepress/issues/2392#issuecomment-633399465",target:"_blank",rel:"noopener noreferrer"}},[s._v("#2392"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"devDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"vuepress"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.5.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"watchpack"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^1.6.1"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h3",{attrs:{id:"_2-element-ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-element-ui"}},[s._v("#")]),s._v(" 2. Element-ui")]),s._v(" "),a("p",[s._v("在项目中全局注册Element-ui会出现"),a("code",[s._v("Uncaught Error: Cannot find module 'core-js/library/fn/object/assign'")]),s._v("的错误。错误的原因是VuePress依赖的是core-js@3，与Element-ui中依赖的core-js@2发生冲突，需要手动安装^2的版本进行降级。相关Issues："),a("a",{attrs:{href:"https://github.com/vuejs/vuepress/issues/2275",target:"_blank",rel:"noopener noreferrer"}},[s._v("#2275"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[s._v("  "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"dependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"core-js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.6.11"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"element-ui"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^2.13.2"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h2",{attrs:{id:"get-start"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#get-start"}},[s._v("#")]),s._v(" Get start")]),s._v(" "),a("h3",{attrs:{id:"_1-继承官方主题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-继承官方主题"}},[s._v("#")]),s._v(" 1. 继承官方主题")]),s._v(" "),a("p",[s._v("新建的VuePress项目里什么也没有，通过以下代码可以拉取官方主题的源码到本地theme文件夹。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("vuepress "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("eject")]),s._v("\n")])])]),a("p",[s._v("加上安装官方推荐的目录构建形式，以及我自己的理解，建议构建如下的目录结构：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n├── docs\n│   ├── "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("vuepress\n│   │   ├── "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("theme")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("通过vuepress eject拉取的"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n│   │   │   ├── "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("components")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("组件的源码"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n│   │   │   ├── layouts （页面级组件的源码）\n│   │   │   ├── styles （"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stylus布局源码）\n│   │   │   └── "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n│   │   ├── "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("存放静态资源"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n│   │   ├── styles \n│   │   │   ├── index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("styl （自定义的全局样式）\n│   │   │   └── palette"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("styl （用于覆盖"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("stylus中的变量）\n│   │   ├── config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("js")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("配置文件入口，官方解释详细"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n│   │   └── enhanceApp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("js")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("用于全局挂载一些应用"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n│   │ \n│   ├── "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("README")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md （主页）\n│   ├── about （介绍页）\n│   │   └── "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("README")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md\n│   ├── tags （标签页）\n│   │   └── "),a("span",{pre:!0,attrs:{class:"token constant"}},[s._v("README")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md\n│   ├── blogs （博客内容页）\n│   │   │   ├── blog1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md \n│   │   │   ├── blog2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md\n│   │   │   ├── blog3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("md\n│   │   │\t  └── "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("...")]),s._v("\n└── "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("json\n")])])]),a("h3",{attrs:{id:"theme"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#theme"}},[s._v("#")]),s._v(" theme")]),s._v(" "),a("p",[s._v("该文件夹下的文件均可直接修改。如果想真正实现继承，可以在自己的"),a("code",[s._v("docs/.vuepress")]),s._v("目录下新建"),a("code",[s._v("theme/index.js")]),s._v("文件，文件内配置如下代码。这样，当你移除未修改过的文件，VuePress也能在构建时自动识别到原主题中的该文件。")]),s._v(" "),a("p",[s._v("如果是只做小的修改，可以只保留修改过的文件，构建依然正常进行。")]),s._v(" "),a("p",[s._v("但若改动较大，继承就显得有些鸡肋，到最后可能会保持原主题完成的结构。")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    extend"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'@vuepress/theme-default'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h3",{attrs:{id:"styles"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#styles"}},[s._v("#")]),s._v(" styles")]),s._v(" "),a("p",[s._v("该文件夹下可创建index和palette两个.styl文件。创建的文件拥有较高的优先级，好处是当你想全局修改布局时，可直接在这两个文件中进行层叠。比如源码中定义了$textcolor的颜色。在styles/palette.styl中重新定义可覆盖原来定义的颜色变量。又或者直接在index中定义一套dark mode的布局。")]),s._v(" "),a("div",{staticClass:"language-stylus extra-class"},[a("pre",{pre:!0,attrs:{class:"language-stylus"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable-declaration"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$textcolor")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token func"}},[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rgb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("27")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])])]),s._v("\n")])])]),a("h3",{attrs:{id:"theme-layouts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#theme-layouts"}},[s._v("#")]),s._v(" theme/layouts")]),s._v(" "),a("p",[s._v("该文件夹下官方放了layout.vue和404.vue两个布局组件。值得注意的是，如果home, tags, timeline以及about页面若只使用一个layout.vue组件进行渲染的话（如下），只会生成一个单页面。而blogs中每一个.md文件都会被渲染为一个单独的页面。当然404页面也会单独渲染一个页面。这在进行路由跳转的时候需要注意。")]),s._v(" "),a("div",{staticClass:"language-vue extra-class"},[a("pre",{pre:!0,attrs:{class:"language-vue"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v('\n\t< Home v-if="..." />\n\t< Tags v-else-if="..." />\n\t< TimeLine v-else-if="..." />\n\t< About v-else />\n'),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("template")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])])]),a("h3",{attrs:{id:"enhanceapp-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enhanceapp-js"}},[s._v("#")]),s._v(" enhanceApp.js")]),s._v(" "),a("p",[s._v("该文件用于挂载一些全局应用如element-ui或者引入一些全局的资源如字体图标的样式：")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * 扩展 VuePress 应用\n */")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" Element "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'element-ui'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'element-ui/lib/theme-chalk/index.css'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./public/fonts/iconfont.css'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// VuePress 正在使用的 Vue 构造函数")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...做一些其他的应用级别的优化")]),s._v("\n    Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports}}]);